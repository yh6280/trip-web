import{t as z,S as L}from"./common-d6a504c0.js";import{r,o as x,a as M,_ as h,u as b,b as n,c as d,d as e,t as i,e as I,F as v,f as w,g as T,p as A,h as y,i as g,w as k,j as E,k as m,l as V,m as D,n as F,q as H,s as B,v as G}from"./index-ec12e08f.js";import{N as K}from"./index-5866bb7f.js";import{u as N}from"./city-d17c2344.js";import{T as Y,a as U}from"./index-af14b911.js";import"./index-4f4eded0.js";import{R as W}from"./index-deb2c696.js";import{h as Z}from"./index-769920f1.js";import"./use-id-c4d8d257.js";const X=""+new URL("banner-3d82bd25.webp",import.meta.url).href;function Q(t){const a=r(!1);function o(){const s=document.documentElement.scrollTop,l=document.documentElement.scrollHeight,c=document.documentElement.clientHeight;l<=c+s?(a.value=!0,t()):a.value=!1}return x(()=>{window.addEventListener("scroll",o)}),M(()=>{window.removeEventListener("scroll",o)}),a}const J="data:image/png;base64,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";const O=t=>(A("data-v-66ce8b58"),t=t(),y(),t),j={class:"serach-box"},P={class:"item location bottom-gray-line"},$=O(()=>e("div",{class:"current"},[e("span",{class:"mine"},"我的位置"),e("img",{src:J,alt:""})],-1)),q=T('<div class="item date-range bottom-gray-line" data-v-66ce8b58><div class="start" data-v-66ce8b58><div class="date" data-v-66ce8b58><span class="tip" data-v-66ce8b58>入住</span><span class="time" data-v-66ce8b58> 8月25日 </span></div><div class="stay" data-v-66ce8b58>共一晚</div></div><div class="end" data-v-66ce8b58><div class="date" data-v-66ce8b58><span class="tip" data-v-66ce8b58>离店</span><span class="time" data-v-66ce8b58> 8月26日 </span></div></div></div><div class="item price-counter bottom-gray-line" data-v-66ce8b58><div class="start" data-v-66ce8b58>价格不限</div><div class="end" data-v-66ce8b58>人数不限</div></div><div class="item keyword bottom-gray-line" data-v-66ce8b58>关键字/位置/民宿名</div>',3),tt={class:"item hot-suggest"},et={__name:"search-box",props:{hotSuggests:{type:Object,default:()=>[]}},setup(t){const a=b(),o=()=>{a.push({path:"/search",query:{address:"广州",cityId:45,startDate:"07-23",endDate:"07-24"}})},s=N(),l=()=>{a.push({path:"/city"})};return(c,p)=>(n(),d("div",j,[e("div",P,[e("div",{class:"city",onClick:l},i(I(s).currentCity.cityName),1),$]),q,e("div",tt,[(n(!0),d(v,null,w(t.hotSuggests,(u,f)=>(n(),d("span",{key:f,class:"tag"},i(u.tagText.text),1))),128))]),e("div",{class:"item search-btn"},[e("div",{class:"btn",onClick:o},"开始搜索")])]))}},st=h(et,[["__scopeId","data-v-66ce8b58"]]);const at={class:"category-item"},ot=["src"],ct={class:"title"},nt={__name:"category-list",props:{categories:{type:Array,default:()=>[]}},setup(t){return r(),(a,o)=>{const s=Y,l=U;return n(),g(l,{scrollspy:"",class:"category-list"},{default:k(()=>[(n(!0),d(v,null,w(t.categories,(c,p)=>(n(),g(s,null,{title:k(()=>[e("div",at,[e("img",{class:"icon",src:c.pictureUrl,alt:""},null,8,ot),e("div",ct,i(c.title),1)])]),_:2},1024))),256))]),_:1})}}},it=h(nt,[["__scopeId","data-v-dbd15d5f"]]),dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAMAAABgOjJdAAAAeFBMVEUAAABnZ2dnZ2dmZmZoaGhqampra2tmZmZnZ2dnZ2dnZ2dnZ2dnZ2dnZ2d2dnZmZmZmZmZnZ2dnZ2dmZmZnZ2doaGh2dnZnZ2dmZmb////ExMT09PTz8/OwsLCqqqqpqamjo6OQkJCJiYmAgIB1dXVzc3Pb29u6urrw6XOgAAAAGHRSTlMA+W+aJyEX5NnLuKyGTwZ68u3fvmZdDXR4g75jAAAA5klEQVQ4y5WT2RKCMAxF29oWFAF3U9wV9P//0EFCWFJwOG83cx5uJ6mYho136S62YoBEzaFirhKfEG+gYRNzYQldln1hBn1mXUEBR7UFLYEjdcuIwEfUCIaGxf1zLygZ3uJxds6dH7zJAif5yZWccswLMkKcXF3FFXNIxgonGRoZ5hUZ9VsvaFwwSzICnLzQeGEOWFO4/YQbsKYp1Dyzd/aklJJhJfiQlm12ZLvGuzkjWuyBs/93IGryFVJb3tJ/RpH/v2xJ2CbCy4F+1GHwU4bVWVgxiAnKjRoxgl7DWotR9BGFKXwBpr0w2bTaHhMAAAAASUVORK5CYII=";const lt=t=>(A("data-v-2e92e559"),t=t(),y(),t),rt={class:"house-item"},ut={class:"item-inner"},_t={class:"cover"},mt=["src"],ht={class:"info"},vt={class:"location"},pt=lt(()=>e("img",{src:dt,alt:""},null,-1)),gt={class:"text"},At={class:"name"},yt={class:"summary"},ft={class:"price"},bt={class:"new"},wt={class:"old"},Zt={key:0,class:"tip"},kt={__name:"index",props:{itemData:{type:Object,default:()=>({})}},setup(t){return(a,o)=>(n(),d("div",rt,[e("div",ut,[e("div",_t,[e("img",{src:t.itemData.image.url,alt:""},null,8,mt)]),e("div",ht,[e("div",vt,[pt,e("span",gt,i(t.itemData.location),1)]),e("div",At,i(t.itemData.houseName),1),e("div",yt,i(t.itemData.summaryText),1),e("div",ft,[e("span",bt,i("¥"+t.itemData.finalPrice),1),e("span",wt,i("¥"+t.itemData.productPrice),1),t.itemData.priceTipBadge?(n(),d("span",Zt,i(t.itemData.priceTipBadge.text),1)):E("",!0)])])])]))}},xt=h(kt,[["__scopeId","data-v-2e92e559"]]);const It={class:"house-item"},Et={class:"item-inner"},Rt={class:"cover"},St=["src"],Ct={class:"info"},zt={class:"summary"},Lt={class:"name"},Mt={class:"price"},Tt={class:"new"},Vt={__name:"index",props:{itemData:{type:Object,default:()=>({})}},setup(t){return(a,o)=>{const s=W;return n(),d("div",It,[e("div",Et,[e("div",Rt,[e("img",{src:t.itemData.image.url,alt:""},null,8,St)]),e("div",Ct,[e("div",zt,i(t.itemData.summaryText),1),e("div",Lt,i(t.itemData.houseName),1),e("div",Mt,[m(s,{"model-value":5,size:"12",gutter:"0",color:"#fff"}),e("span",Tt,i("¥"+t.itemData.finalPrice),1)])])])])}}},Dt=h(Vt,[["__scopeId","data-v-43017d2c"]]);const Ft=t=>(A("data-v-69fe454c"),t=t(),y(),t),Ht={class:"house-area"},Bt=Ft(()=>e("h2",{class:"title"},"热门精选",-1)),Gt={class:"house-list"},Kt={__name:"house-area",props:{houselist:{type:Array,default:()=>[]}},setup(t){const a=b();function o(s){console.log("itemClick",s),a.push({path:"/detail/"+s})}return(s,l)=>(n(),d("div",Ht,[Bt,e("div",Gt,[(n(!0),d(v,null,w(t.houselist,(c,p)=>(n(),d(v,{key:c.data.houseId},[c.discoveryContentType===3?(n(),g(xt,{key:0,"item-data":c.data,onClick:u=>o(c.data.houseId)},null,8,["item-data","onClick"])):c.discoveryContentType===9?(n(),g(Dt,{key:1,"item-data":c.data,onClick:u=>o(c.data.houseId)},null,8,["item-data","onClick"])):E("",!0)],64))),128))])]))}},Nt=h(Kt,[["__scopeId","data-v-69fe454c"]]);function Yt(){return Z.get({url:"/home/hotSuggests"})}function Ut(){return Z.get({url:"/home/categories"})}function Wt(t){return Z.get({url:"/home/houselist",params:{page:t}})}function Xt(){const t=r(0),a=r(0),o=r(0),s=z(function(){t.value=document.documentElement.scrollTop,a.value=document.documentElement.scrollHeight,o.value=document.documentElement.clientHeight});return x(()=>{window.addEventListener("scroll",s)}),V(()=>{window.addEventListener("scroll",s)}),D(()=>{window.removeEventListener("scroll",s)}),F(()=>{window.removeEventListener("scroll",s)}),{scrollTop:t,scrollHeight:a,clientHeight:o}}const Qt=t=>(A("data-v-0b25dad1"),t=t(),y(),t),Jt={class:"home"},Ot=Qt(()=>e("div",{class:"banner"},[e("img",{src:X,alt:""})],-1)),jt={class:"content"},Pt={class:"home-top"},$t={__name:"index",setup(t){const a=b(),o=r([]);Yt().then(_=>{o.value=_.data});const s=r([]);Ut().then(_=>{s.value=_.data});let l=1;const c=r([]);u();const p=()=>{a.push({path:"/search",query:{address:"广州",cityId:45,startDate:"07-25",endDate:"07-26"}})};function u(){Wt(l).then(_=>{c.value.push(..._.data),l++})}Q(()=>{u()});const{scrollTop:f}=Xt(),R=H(()=>f.value>=350);return(_,qt)=>{const S=K,C=L;return n(),d(v,null,[e("div",Jt,[m(S,{title:"弘源旅途"}),Ot,m(st,{"hot-suggests":o.value},null,8,["hot-suggests"]),e("div",jt,[m(it,{categories:s.value},null,8,["categories"]),m(Nt,{houselist:c.value},null,8,["houselist"])])]),B(e("div",Pt,[m(C,{"start-date":"07.25","end-date":"07.26",height:"45px","key-word-font-size":"14px","search-icon":!0,"key-word":"关键字/位置/民宿",onSearchClick:p})],512),[[G,I(R)]])],64)}}},le=h($t,[["__scopeId","data-v-0b25dad1"]]);export{le as default};
