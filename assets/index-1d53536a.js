import{N as ze}from"./index-573d9fdb.js";import{d as Ne,S as Le}from"./common-d6a504c0.js";import{B as N,C as D,ai as J,T as We,n as _e,m as He,Z as W,aJ as Me,ap as pe,r as S,A as H,D as M,$ as ee,k as p,au as me,L as te,G as fe,a2 as ne,s as ae,v as oe,K as G,U as Y,q as L,a7 as Ge,o as Ue,l as Fe,al as Ke,aK as je,aw as he,F as x,aL as Ye,af as Je,ad as se,H as ye,J as ke,V as Ce,a5 as ge,W as qe,aM as Qe,a1 as Ze,an as Xe,aN as et,X as tt,aj as be,ah as nt,az as at,a3 as ot,_ as E,b as d,c as k,d as C,w as V,f as O,i as $,y as we,aO as F,t as A,j as P,e as q,p as le,h as ce,x as st,at as lt,aP as ct,aI as it,u as rt}from"./index-ec12e08f.js";import{C as dt,S as ut}from"./index-4ad4c2a4.js";import{u as vt}from"./use-id-c4d8d257.js";import{a as _t,u as Se,h as Q}from"./index-769920f1.js";import{S as pt}from"./index-1346ffeb.js";import"./index-5866bb7f.js";const mt={show:Boolean,zIndex:N,overlay:D,duration:N,teleport:[String,Object],lockScroll:D,lazyRender:D,beforeClose:Function,overlayStyle:Object,overlayClass:J,transitionAppear:Boolean,closeOnClickOverlay:D};let U=0;const ie="van-overflow-hidden";function ft(e,o){const a=_t(),s="01",t="10",n=r=>{a.move(r);const f=a.deltaY.value>0?t:s,v=Me(r.target,e.value),{scrollHeight:c,offsetHeight:h,scrollTop:g}=v;let i="11";g===0?i=h>=c?"00":"01":g+h>=c&&(i="10"),i!=="11"&&a.isVertical()&&!(parseInt(i,2)&parseInt(f,2))&&pe(r,!0)},_=()=>{document.addEventListener("touchstart",a.start),document.addEventListener("touchmove",n,{passive:!1}),U||document.body.classList.add(ie),U++},m=()=>{U&&(document.removeEventListener("touchstart",a.start),document.removeEventListener("touchmove",n),U--,U||document.body.classList.remove(ie))},y=()=>o()&&_(),l=()=>o()&&m();We(y),_e(l),He(l),W(o,r=>{r?_():m()})}function Ie(e){const o=S(!1);return W(e,a=>{a&&(o.value=a)},{immediate:!0}),a=>()=>o.value?a():null}const[ht,yt]=H("overlay"),kt={show:Boolean,zIndex:N,duration:N,className:J,lockScroll:D,lazyRender:D,customStyle:Object};var Ct=M({name:ht,props:kt,setup(e,{slots:o}){const a=S(),s=Ie(()=>e.show||!e.lazyRender),t=_=>{e.lockScroll&&pe(_,!0)},n=s(()=>{var _;const m=te(fe(e.zIndex),e.customStyle);return ne(e.duration)&&(m.animationDuration=`${e.duration}s`),ae(p("div",{ref:a,style:m,class:[yt(),e.className]},[(_=o.default)==null?void 0:_.call(o)]),[[oe,e.show]])});return ee("touchmove",t,{target:a}),()=>p(me,{name:"van-fade",appear:!0},{default:n})}});const gt=G(Ct),bt=te({},mt,{round:Boolean,position:Y("center"),closeIcon:Y("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Y("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[wt,re]=H("popup");var St=M({name:wt,inheritAttrs:!1,props:bt,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:o,attrs:a,slots:s}){let t,n;const _=S(),m=S(),y=Ie(()=>e.show||!e.lazyRender),l=L(()=>{const w={zIndex:_.value};if(ne(e.duration)){const T=e.position==="center"?"animationDuration":"transitionDuration";w[T]=`${e.duration}s`}return w}),r=()=>{t||(t=!0,_.value=e.zIndex!==void 0?+e.zIndex:Ye(),o("open"))},f=()=>{t&&Je(e.beforeClose,{done(){t=!1,o("close"),o("update:show",!1)}})},v=w=>{o("clickOverlay",w),e.closeOnClickOverlay&&f()},c=()=>{if(e.overlay)return p(gt,{show:e.show,class:e.overlayClass,zIndex:_.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:v},{default:s["overlay-content"]})},h=w=>{o("clickCloseIcon",w),f()},g=()=>{if(e.closeable)return p(ke,{role:"button",tabindex:0,name:e.closeIcon,class:[re("close-icon",e.closeIconPosition),ye],classPrefix:e.iconPrefix,onClick:h},null)},i=()=>o("opened"),u=()=>o("closed"),I=w=>o("keydown",w),b=y(()=>{var w;const{round:T,position:B,safeAreaInsetTop:z,safeAreaInsetBottom:Be}=e;return ae(p("div",se({ref:m,style:l.value,role:"dialog",tabindex:0,class:[re({round:T,[B]:B}),{"van-safe-area-top":z,"van-safe-area-bottom":Be}],onKeydown:I},a),[(w=s.default)==null?void 0:w.call(s),g()]),[[oe,e.show]])}),R=()=>{const{position:w,transition:T,transitionAppear:B}=e,z=w==="center"?"van-fade":`van-popup-slide-${w}`;return p(me,{name:T||z,appear:B,onAfterEnter:i,onAfterLeave:u},{default:b})};return W(()=>e.show,w=>{w&&!t&&(r(),a.tabindex===0&&Ge(()=>{var T;(T=m.value)==null||T.focus()})),!w&&t&&(t=!1,o("close"))}),Se({popupRef:m}),ft(m,()=>e.show&&e.lockScroll),ee("popstate",()=>{e.closeOnPopstate&&(f(),n=!1)}),Ue(()=>{e.show&&r()}),Fe(()=>{n&&(o("update:show",!0),n=!1)}),_e(()=>{e.show&&e.teleport&&(f(),n=!0)}),Ke(je,()=>e.show),()=>e.teleport?p(he,{to:e.teleport},{default:()=>[c(),R()]}):p(x,null,[c(),R()])}});const It=G(St),[xe,K]=H("dropdown-menu"),xt={overlay:D,zIndex:N,duration:Ce(.2),direction:Y("down"),activeColor:String,closeOnClickOutside:D,closeOnClickOverlay:D},$e=Symbol(xe);var $t=M({name:xe,props:xt,setup(e,{slots:o}){const a=vt(),s=S(),t=S(),n=S(0),{children:_,linkChildren:m}=ge($e),y=qe(s),l=L(()=>_.some(i=>i.state.showWrapper)),r=L(()=>{if(l.value&&ne(e.zIndex))return{zIndex:+e.zIndex+1}}),f=()=>{e.closeOnClickOutside&&_.forEach(i=>{i.toggle(!1)})},v=()=>{if(t.value){const i=Ze(t);e.direction==="down"?n.value=i.bottom:n.value=Xe.value-i.top}},c=()=>{l.value&&v()},h=i=>{_.forEach((u,I)=>{I===i?(v(),u.toggle()):u.state.showPopup&&u.toggle(!1,{immediate:!0})})},g=(i,u)=>{const{showPopup:I}=i.state,{disabled:b,titleClass:R}=i;return p("div",{id:`${a}-${u}`,role:"button",tabindex:b?void 0:0,class:[K("item",{disabled:b}),{[ye]:!b}],onClick:()=>{b||h(u)}},[p("span",{class:[K("title",{down:I===(e.direction==="down"),active:I}),R],style:{color:I?e.activeColor:""}},[p("div",{class:"van-ellipsis"},[i.renderTitle()])])])};return m({id:a,props:e,offset:n}),Qe(s,f),ee("scroll",c,{target:y,passive:!0}),()=>{var i;return p("div",{ref:s,class:K()},[p("div",{ref:t,style:r.value,class:K("bar",{opened:l.value})},[_.map(g)]),(i=o.default)==null?void 0:i.call(o)])}}});const[Pt,j]=H("dropdown-item"),Tt={title:String,options:et(),disabled:Boolean,teleport:[String,Object],lazyRender:D,modelValue:J,titleClass:J};var Ot=M({name:Pt,inheritAttrs:!1,props:Tt,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:o,slots:a,attrs:s}){const t=tt({showPopup:!1,transition:!0,showWrapper:!1}),{parent:n,index:_}=be($e);if(!n)return;const m=u=>()=>o(u),y=m("open"),l=m("close"),r=m("opened"),f=()=>{t.showWrapper=!1,o("closed")},v=u=>{e.teleport&&u.stopPropagation()},c=(u=!t.showPopup,I={})=>{u!==t.showPopup&&(t.showPopup=u,t.transition=!I.immediate,u&&(t.showWrapper=!0))},h=()=>{if(a.title)return a.title();if(e.title)return e.title;const u=e.options.find(I=>I.value===e.modelValue);return u?u.text:""},g=u=>{const{activeColor:I}=n.props,b=u.value===e.modelValue,R=()=>{t.showPopup=!1,u.value!==e.modelValue&&(o("update:modelValue",u.value),o("change",u.value))},w=()=>{if(b)return p(ke,{class:j("icon"),color:I,name:"success"},null)};return p(dt,{role:"menuitem",key:u.value,icon:u.icon,title:u.text,class:j("option",{active:b}),style:{color:b?I:""},tabindex:b?0:-1,clickable:!0,onClick:R},{value:w})},i=()=>{const{offset:u}=n,{zIndex:I,overlay:b,duration:R,direction:w,closeOnClickOverlay:T}=n.props,B=fe(I);return w==="down"?B.top=`${u.value}px`:B.bottom=`${u.value}px`,ae(p("div",se({style:B,class:j([w]),onClick:v},s),[p(It,{show:t.showPopup,"onUpdate:show":z=>t.showPopup=z,role:"menu",class:j("content"),overlay:b,position:w==="down"?"top":"bottom",duration:t.transition?R:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${n.id}-${_.value}`,closeOnClickOverlay:T,onOpen:y,onClose:l,onOpened:r,onClosed:f},{default:()=>{var z;return[e.options.map(g),(z=a.default)==null?void 0:z.call(a)]}})]),[[oe,t.showWrapper]])};return Se({state:t,toggle:c,renderTitle:h}),()=>e.teleport?p(he,{to:e.teleport},{default:()=>[i()]}):i()}});const Pe=G(Ot),Te=G($t),[Oe,Dt]=H("sidebar"),De=Symbol(Oe),Vt={modelValue:Ce(0)};var Rt=M({name:Oe,props:Vt,emits:["change","update:modelValue"],setup(e,{emit:o,slots:a}){const{linkChildren:s}=ge(De),t=()=>+e.modelValue;return s({getActive:t,setActive:_=>{_!==t()&&(o("update:modelValue",_),o("change",_))}}),()=>{var _;return p("div",{role:"tablist",class:Dt()},[(_=a.default)==null?void 0:_.call(a)])}}});const At=G(Rt),[Et,de]=H("sidebar-item"),Bt=te({},nt,{dot:Boolean,title:String,badge:N,disabled:Boolean,badgeProps:Object});var zt=M({name:Et,props:Bt,emits:["click"],setup(e,{emit:o,slots:a}){const s=at(),{parent:t,index:n}=be(De);if(!t)return;const _=()=>{e.disabled||(o("click",n.value),t.setActive(n.value),s())};return()=>{const{dot:m,badge:y,title:l,disabled:r}=e,f=n.value===t.getActive();return p("div",{role:"tab",class:de({select:f,disabled:r}),tabindex:r?void 0:0,"aria-selected":f,onClick:_},[p(ot,se({dot:m,class:de("text"),content:y},e.badgeProps),{default:()=>[a.title?a.title():l]})])}}});const Nt=G(zt);function Lt(){return Q.get({url:"/search/top"})}function Wt(){return Q.get({url:"/search/result"})}const Ve="http://localhost:3000/api",Re="1657957399020",Ae="1657957399023KiYJenCT_6Th0R8QmkS3QDMD3wNhFaJsfn97x";function Ht(){return Q.post({url:Ve+`/bnbapp-node-h5/h5/suggest/guessulike/bnb?_apitsp=${Re}&_fasTraceId=${Ae}
    `,method:"post",data:{cityId:45,keywordTryRecommend:2}})}function Mt(e){return Q.post({url:Ve+`/bnbapp-node-h5/h5/keyword/keywordsearchsuggest/bnb?_apitsp=${Re}&_fasTraceId=${Ae}
    `,method:"post",data:{cityId:45,keyword:e,sourceCode:702}})}const Gt={key:0,class:"side-bar"},Ut={class:"side-menu"},Ft={class:"content"},Kt=["onClick"],jt={class:"name ellipsis-text-1"},Yt={key:0,class:"desp"},Jt={key:1,class:"sub-side-panel"},qt={class:"sub-side-bar"},Qt={class:"sub-content"},Zt=["onClick"],Xt={class:"name ellipsis-text-1"},en={key:0,class:"desp"},tn={__name:"index",props:{menuData:{type:Array,default:()=>[]}},emits:["itemClick"],setup(e,{emit:o}){const a=e,s=S(0),t=S(0),n=S([]);W(()=>a.menuData,(v,c)=>{n.value=v},{immediate:!0});const _=L(()=>{let v=n.value[s.value].subGroups||[],c=[];return v.length&&(c=v[t.value]||{}),c=c.items||[],c}),m=L(()=>n.value[s.value].subGroups||[]),y=v=>console.log(`标签名 ${s.value}`),l=v=>console.log(`二级标签名 ${t.value}`),r=(v,c)=>{n.value[v]&&((n.value[v].items||[]).forEach((g,i)=>{g.isSelect=i===c}),o("itemClick",{sideDatas:n.value,currentSideActive:v,index:c}))},f=v=>{n.value[s.value]&&(((n.value[s.value].subGroups||[])[t.value].items||[]).forEach((g,i)=>{g.isSelect=i===v}),o("itemClick",{sideDatas:n.value,currentSideActive:s,currentSubSideActive:t,index:v}))};return(v,c)=>{const h=Nt,g=At;return n.value.length?(d(),k("div",Gt,[C("div",Ut,[p(g,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=i=>s.value=i),onChange:y},{default:V(()=>[(d(!0),k(x,null,O(n.value,(i,u)=>(d(),$(h,{key:u,title:i.label},null,8,["title"]))),128))]),_:1},8,["modelValue"])]),C("div",Ft,[we(v.$slots,"content",{items:n.value[s.value].items,subGroups:n.value[s.value].subGroups},()=>[n.value[s.value].items?(d(!0),k(x,{key:0},O(n.value[s.value].items,(i,u)=>(d(),k("div",{key:u,class:F(["list-item",i.isSelect?"active":""]),onClick:I=>r(s.value,u)},[C("div",jt,A(i.label),1),i.percentageUser?(d(),k("span",Yt,A(i.percentageUser),1)):P("",!0)],10,Kt))),128)):P("",!0),q(m).length?(d(),k("div",Jt,[C("div",qt,[p(g,{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=i=>t.value=i),onChange:l},{default:V(()=>[(d(!0),k(x,null,O(n.value[s.value].subGroups,(i,u)=>(d(),$(h,{key:u,title:i.label},null,8,["title"]))),128))]),_:1},8,["modelValue"])]),C("div",Qt,[(d(!0),k(x,null,O(q(_),(i,u)=>(d(),k("div",{key:u,class:F(["list-item",i.isSelect?"active":""]),onClick:I=>f(u)},[C("div",Xt,A(i.label),1),i.percentageUser?(d(),k("span",en,A(i.percentageUser),1)):P("",!0)],10,Zt))),128))])])):P("",!0)],!0)])])):P("",!0)}}},ue=E(tn,[["__scopeId","data-v-f8719e62"]]);const nn={class:"view-house-btns"},an={__name:"index",emits:["clear","viewClick"],setup(e,{emit:o}){const a=()=>{o("clear")},s=()=>{o("viewClick")};return(t,n)=>(d(),k("div",nn,[C("div",{class:"clear",onClick:a},"清空"),C("div",{class:"view-house",onClick:s},"查看房屋(220套)")]))}},Z=E(an,[["__scopeId","data-v-f2549b5a"]]);const on=e=>(le("data-v-5aa91615"),e=e(),ce(),e),sn={class:"dropdown-bar-panel-content"},ln={class:"dropdown-bar-panel-content"},cn=on(()=>C("p",{class:"list-content"},"正在开发中....",-1)),rn={__name:"index",props:{itemsData:{type:Array,default:()=>[]}},setup(e){const o={},a=S(0),s=[{text:"欢迎度排序",value:0},{text:"好评优先",value:1},{text:"点评数多->少",value:2},{text:"低价优先",value:3},{text:"高价优先",value:4}],t=y=>{y&&(o[y.title]=y)},n=y=>{var l;(l=o[y])==null||l.toggle()},_=y=>{var l;(l=o[y])==null||l.toggle()},m=y=>{console.log(y)};return(y,l)=>{const r=Pe,f=Te;return d(),$(f,null,{default:V(()=>[(d(!0),k(x,null,O(e.itemsData,(v,c)=>(d(),k(x,null,[v.gType===2?(d(),$(r,{key:0,title:"位置",ref_for:!0,ref:t},{default:V(()=>[C("div",sn,[p(ue,{class:"top",menuData:v.subGroups,onItemClick:m},null,8,["menuData"]),p(Z,{class:"bottom",onClear:l[0]||(l[0]=h=>n("位置")),onViewClick:l[1]||(l[1]=h=>_("位置"))})])]),_:2},1024)):P("",!0),v.gType===4?(d(),$(r,{key:1,modelValue:a.value,"onUpdate:modelValue":l[2]||(l[2]=h=>a.value=h),options:s},null,8,["modelValue"])):P("",!0),v.gType===1?(d(),$(r,{key:2,title:"筛选",ref_for:!0,ref:t},{default:V(()=>[C("div",ln,[p(ue,{class:"top",menuData:v.subGroups},{content:V(h=>[cn]),_:2},1032,["menuData"]),p(Z,{class:"bottom",onClear:l[3]||(l[3]=h=>n("筛选")),onViewClick:l[4]||(l[4]=h=>_("筛选"))})])]),_:2},1024)):P("",!0)],64))),256))]),_:1})}}},dn=E(rn,[["__scopeId","data-v-5aa91615"]]);const un={__name:"index",props:{title:{type:String,default:"多人入住"},borderColor:{type:String,default:"white"},borderActiveColor:{type:String,default:"#ff9645"},borderWidth:{type:String,default:"1px"},type:{type:String,default:"default"},active:{type:Boolean,default:!1}},emits:["tagClick"],setup(e,{emit:o}){const a=e;st(t=>({"39ba605d":a.borderWidth,"38a361fa":a.borderColor}));const s=()=>{o("tagClick",a.title)};return(t,n)=>(d(),k("div",{class:F(["tab-select-item",e.type,e.active?"active":""]),onClick:s},A(e.title),3))}},X=E(un,[["__scopeId","data-v-79c969e3"]]);const vn={class:"tab-select"},_n={class:"drow-content"},pn={__name:"index",props:{itemsData:{type:Array,default:()=>[]}},setup(e){const o=e,a={},s=S([]);S(0),W(()=>o.itemsData,(l,r)=>{s.value=l});const t=l=>{l&&(a[l.title]=l)},n=l=>{var r;(r=a[l])==null||r.toggle()},_=l=>{var r;(r=a[l])==null||r.toggle()},m=(l,r)=>{s.value.forEach((f,v)=>{f.isSelect=v===r})},y=(l,r)=>{s.value.forEach((f,v)=>{v===l&&(f.subFilterItems||[]).forEach((h,g)=>{h.isSelect=g===r})})};return(l,r)=>{const f=Pe,v=Te;return d(),k("div",vn,[(d(!0),k(x,null,O(s.value,(c,h)=>(d(),k(x,{key:h},[c.subFilterItems&&c.subFilterItems.length?(d(),$(v,{key:0},{default:V(()=>[p(f,{title:c.label,ref_for:!0,ref:t},{default:V(()=>[C("div",_n,[(d(!0),k(x,null,O(c.subFilterItems,(g,i)=>(d(),$(X,{class:"d-item",borderColor:"#979797",borderActiveColor:"#ff9645",active:g.isSelect,title:g.label,onTagClick:u=>y(h,i)},null,8,["active","title","onTagClick"]))),256))]),p(Z,{class:"bottom",onClear:g=>n(c.label),onViewClick:g=>_(c.label)},null,8,["onClear","onViewClick"])]),_:2},1032,["title"])]),_:2},1024)):(d(),$(X,{key:1,title:c.label,active:c.isSelect,"border-width":"0px",onTagClick:g=>m(c,h)},null,8,["title","active","onTagClick"]))],64))),128))])}}},mn=E(pn,[["__scopeId","data-v-eed9526c"]]);const fn=e=>(le("data-v-3ff47212"),e=e(),ce(),e),hn={class:"search-category"},yn={class:"title"},kn={class:"name"},Cn=fn(()=>C("span",{class:"m-name"},"展开",-1)),gn={__name:"index",props:{title:{type:String,default:"热门搜索"},itemDatas:{type:Array,default:()=>[]},itemType:{type:String,default:"default"}},emits:["tagClick"],setup(e,{emit:o}){const a=S(!0),s=()=>{a.value=!a.value},t=n=>{o("tagClick",n)};return(n,_)=>(d(),k("div",hn,[C("div",yn,[C("span",kn,A(e.title),1),C("div",{class:"more",onClick:s},[we(n.$slots,"more",{},()=>[Cn,C("i",{class:F(["icon-more",a.value?"down":"up"])},null,2)],!0)])]),C("div",{class:F(["content",a.value?"hidden":"show-all"])},[(d(!0),k(x,null,O(e.itemDatas,m=>(d(),$(X,{type:e.itemType,title:m.name,"border-width":"0px",onTagClick:y=>t(m)},null,8,["type","title","onTagClick"]))),256))],2)]))}},ve=E(gn,[["__scopeId","data-v-3ff47212"]]);const bn={class:"left"},wn=["innerHTML"],Sn={class:"desp"},In={key:0,class:"active"},xn={key:0},$n={class:"right"},Pn={__name:"index",props:{keyWord:{type:String,default:""},name:{type:String,default:""},description:{type:String,default:""},typeName:{type:String,default:""},unitPrice:{type:Number,default:0}},emits:["itemClick"],setup(e,{emit:o}){const a=e,s=L(()=>{let n=a.name;return n&&(n=n.replace(new RegExp(a.keyWord,"ig"),_=>`<font style="color: #ff9645">${a.keyWord}</font>`)),n}),t=()=>{o("itemClick",{name:a.name,typeName:a.typeName})};return(n,_)=>(d(),k("div",{class:"search-result-item",onClick:t},[C("div",bn,[C("div",{class:"name ellipsis-text-1",innerHTML:q(s)},null,8,wn),C("span",Sn,[e.unitPrice?(d(),k("span",In,[lt(" ¥ "+A(e.unitPrice)+" ",1),e.description?(d(),k("span",xn," | ")):P("",!0)])):P("",!0),C("span",null,A(e.description),1)])]),C("div",$n,A(e.typeName),1)]))}},Tn=E(Pn,[["__scopeId","data-v-59923c11"]]);const Ee=e=>(le("data-v-9d5df57d"),e=e(),ce(),e),On={class:"search-panel"},Dn={key:0,class:"search-result-panel"},Vn={key:1,class:"search-category-panel"},Rn=Ee(()=>C("span",{class:"name"},"清空",-1)),An=Ee(()=>C("i",{class:"icon-delete"},null,-1)),En=[Rn,An],Bn={__name:"index",props:{searchPanelDatas:{type:Array,default:()=>[]}},emits:["cancel","search","tagClick","resultItemClick"],setup(e,{emit:o}){const a=S(""),s=S([]),t=ct();t.initSearchHistory(),W(a,Ne((r,f)=>{r.trim()&&(t.addSearchHistory(r),Mt(r).then(v=>{s.value=v.data.suggests||[]}).finally(()=>{}))}));const n=r=>{o("search",r)},_=()=>{o("cancel")},m=(r,f)=>{o("tagClick",{typeName:f.name,keyWord:r.name})},y=r=>{o("resultItemClick",r)},l=()=>{t.clearSearchHistory()};return(r,f)=>{const v=ut;return d(),k("div",On,[p(v,{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=c=>a.value=c),"show-action":"",shape:"round",placeholder:"搜索广州的景点、地标、房源",onSearch:n,onCancel:_},null,8,["modelValue"]),s.value.length?(d(),k("div",Dn,[(d(!0),k(x,null,O(s.value,(c,h)=>(d(),$(Tn,{key:h,"key-word":a.value,name:c.name,"type-name":c.itemTypeName,description:c.description,unitPrice:c.unitPrice,onItemClick:y},null,8,["key-word","name","type-name","description","unitPrice"]))),128))])):(d(),k("div",Vn,[p(ve,{title:"搜索历史",itemDatas:q(t).getSearchHistorys,itemType:"pink",onTagClick:f[1]||(f[1]=c=>m(c,r.item))},{more:V(()=>[C("div",{class:"clear",onClick:l},En)]),_:1},8,["itemDatas"]),(d(!0),k(x,null,O(e.searchPanelDatas,(c,h)=>(d(),k(x,{key:h},[c.suggests?(d(),$(ve,{key:0,title:c.name,itemDatas:c.suggests,itemType:h===0?"pink":"gray",onTagClick:g=>m(g,c)},null,8,["title","itemDatas","itemType","onTagClick"])):P("",!0)],64))),128))]))])}}},zn=E(Bn,[["__scopeId","data-v-9d5df57d"]]);const Nn={class:"search"},Ln={class:"search-nav-bar"},Wn={class:"tab-wrapper"},Hn={class:"list"},Mn={__name:"index",setup(e){const o=it(),a=rt(),s="搜索博尔塔拉的景点、地标、房源",t=S(!1),n=S([]),_=S([]),m=S([]),y=S(o.query),l=S(!1),r=S(s);Lt().then(b=>{_.value=b.data.data.allConditions}),Wt().then(b=>{n.value=b.data.data}),Ht().then(b=>{m.value=b.data});const f=()=>{a.go(-1)},v=()=>{console.log("menuIconClick")},c=()=>{t.value=!0},h=()=>{r.value=s,l.value=!1},g=()=>{t.value=!1},i=()=>{},u=b=>{t.value=!1,b.keyWord?(l.value=!0,r.value=b.keyWord):l.value=!1},I=b=>{u({keyWord:b.name})};return(b,R)=>(d(),k("div",Nn,[C("div",Ln,[p(ze,{class:"",border:!1,onArrowIconClick:f,onMenuIconClick:v},{title:V(()=>[p(Le,{title:y.value.address,"start-date":y.value.startDate,"end-date":y.value.endDate,"key-word":r.value,"cancel-icon":l.value,onCancelClick:h,onSearchClick:c},null,8,["title","start-date","end-date","key-word","cancel-icon"])]),_:1}),p(dn,{"items-data":_.value},null,8,["items-data"]),C("div",Wn,[p(mn,{"items-data":n.value.hotFilters},null,8,["items-data"])])]),C("div",Hn,[(d(!0),k(x,null,O(n.value.items,(w,T)=>(d(),$(pt,{"item-data":w},null,8,["item-data"]))),256))]),t.value?(d(),$(zn,{key:0,searchPanelDatas:m.value.groups,onCancel:g,onSearch:i,onTagClick:u,onResultItemClick:I},null,8,["searchPanelDatas"])):P("",!0)]))}},Qn=E(Mn,[["__scopeId","data-v-b2a0cf69"]]);export{Qn as default};
